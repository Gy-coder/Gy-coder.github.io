<!DOCTYPE html>
<html lang="en-Hans">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Gy的个人网站  | CSS动画及浏览器渲染原理</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.59.1" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css" rel="stylesheet">
    

    

    
      
    

    
    
    <meta property="og:title" content="CSS动画及浏览器渲染原理" />
<meta property="og:description" content="浏览器的渲染原理  浏览器的渲染过程：
 根据 HTML 建立 HTML 树(DOM) 根据 CSS 建立 CSS 树(CSSOM) 将两课树合并成一颗渲染树 Layout 布局(文档流，盒模型，计算大小和位置) paint 绘制(把边框颜色，文字颜色，阴影等画出来) compose 合成(根本层叠关系展示画面)
  三种更新方式:
 JavaScript &ndash;&gt; Style &ndash;&gt; Layout &ndash;&gt; Paint &ndash;&gt; composite
例:div.remove()会使当前元素消失，其他元素 relayout
 JavaScript &ndash;&gt; Style &ndash;&gt; Paint &ndash;&gt; composite
例:改变 background，直接 repaint &#43; composite
 JavaScript &ndash;&gt; Style &ndash;&gt; composite
例:改变 transform，只需 composite
   CSS 动画优化 CSS 动画优化的方式有很多，本文主要讲解两个方面，如果您想了解完全可以参考该链接
 Js 优化:
使用 requestAnimationFrame 代替 SetInterVal 和 setTimeOut" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gy-coder.xyz/posts/css%E5%8A%A8%E7%94%BB%E5%8F%8A%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86/" />
<meta property="article:published_time" content="2019-11-27T18:41:55+08:00" />
<meta property="article:modified_time" content="2019-11-27T18:41:55+08:00" />
<meta itemprop="name" content="CSS动画及浏览器渲染原理">
<meta itemprop="description" content="浏览器的渲染原理  浏览器的渲染过程：
 根据 HTML 建立 HTML 树(DOM) 根据 CSS 建立 CSS 树(CSSOM) 将两课树合并成一颗渲染树 Layout 布局(文档流，盒模型，计算大小和位置) paint 绘制(把边框颜色，文字颜色，阴影等画出来) compose 合成(根本层叠关系展示画面)
  三种更新方式:
 JavaScript &ndash;&gt; Style &ndash;&gt; Layout &ndash;&gt; Paint &ndash;&gt; composite
例:div.remove()会使当前元素消失，其他元素 relayout
 JavaScript &ndash;&gt; Style &ndash;&gt; Paint &ndash;&gt; composite
例:改变 background，直接 repaint &#43; composite
 JavaScript &ndash;&gt; Style &ndash;&gt; composite
例:改变 transform，只需 composite
   CSS 动画优化 CSS 动画优化的方式有很多，本文主要讲解两个方面，如果您想了解完全可以参考该链接
 Js 优化:
使用 requestAnimationFrame 代替 SetInterVal 和 setTimeOut">


<meta itemprop="datePublished" content="2019-11-27T18:41:55&#43;08:00" />
<meta itemprop="dateModified" content="2019-11-27T18:41:55&#43;08:00" />
<meta itemprop="wordCount" content="278">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="CSS动画及浏览器渲染原理"/>
<meta name="twitter:description" content="浏览器的渲染原理  浏览器的渲染过程：
 根据 HTML 建立 HTML 树(DOM) 根据 CSS 建立 CSS 树(CSSOM) 将两课树合并成一颗渲染树 Layout 布局(文档流，盒模型，计算大小和位置) paint 绘制(把边框颜色，文字颜色，阴影等画出来) compose 合成(根本层叠关系展示画面)
  三种更新方式:
 JavaScript &ndash;&gt; Style &ndash;&gt; Layout &ndash;&gt; Paint &ndash;&gt; composite
例:div.remove()会使当前元素消失，其他元素 relayout
 JavaScript &ndash;&gt; Style &ndash;&gt; Paint &ndash;&gt; composite
例:改变 background，直接 repaint &#43; composite
 JavaScript &ndash;&gt; Style &ndash;&gt; composite
例:改变 transform，只需 composite
   CSS 动画优化 CSS 动画优化的方式有很多，本文主要讲解两个方面，如果您想了解完全可以参考该链接
 Js 优化:
使用 requestAnimationFrame 代替 SetInterVal 和 setTimeOut"/>

  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://gy-coder.xyz/" class="f3 fw2 hover-white no-underline white-90 dib">
      Gy的个人网站
    </a>
    <div class="flex-l items-center">
      

      
      











    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">

    <header class="mt4 w-100">
      <p class="f6 b helvetica tracked">
          
        POSTS
      </p>
      <h1 class="f1 athelas mb1">CSS动画及浏览器渲染原理</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2019-11-27T18:41:55&#43;08:00">November 27, 2019</time>
      
      
    </header>

    <section class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l">

<h1 id="浏览器的渲染原理">浏览器的渲染原理</h1>

<ol>
<li><p>浏览器的渲染过程：</p>

<ol>
<li>根据 HTML 建立 HTML 树(DOM)</li>
<li>根据 CSS 建立 CSS 树(CSSOM)</li>
<li>将两课树合并成一颗渲染树</li>
<li>Layout 布局(文档流，盒模型，计算大小和位置)</li>
<li>paint 绘制(把边框颜色，文字颜色，阴影等画出来)</li>

<li><p>compose 合成(根本层叠关系展示画面)</p>

<p><img src="../../images/29.png" alt="" /></p></li>
</ol></li>

<li><p>三种更新方式:</p>

<ol>
<li><p>JavaScript &ndash;&gt; Style &ndash;&gt; Layout &ndash;&gt; Paint &ndash;&gt; composite</p>

<p>例:div.remove()会使当前元素消失，其他元素 relayout</p></li>

<li><p>JavaScript &ndash;&gt; Style &ndash;&gt; Paint &ndash;&gt; composite</p>

<p>例:改变 background，直接 repaint + composite</p></li>

<li><p>JavaScript &ndash;&gt; Style &ndash;&gt; composite</p>

<p>例:改变 transform，只需 composite</p></li>
</ol></li>
</ol>

<h1 id="css-动画优化">CSS 动画优化</h1>

<p>CSS 动画优化的方式有很多，本文主要讲解两个方面，如果您想了解完全可以参考该<a href="https://developers.google.com/web/fundamentals/performance/rendering/stick-to-compositor-only-properties-and-manage-layer-count">链接</a></p>

<ol>
<li><p>Js 优化:</p>

<p>使用 requestAnimationFrame 代替 SetInterVal 和 setTimeOut</p></li>

<li><p>CSS 优化:</p>

<p>使用 will-change 或 translate</p></li>
</ol>

<h1 id="transform-的简单功能介绍">transform 的简单功能介绍</h1>

<p><strong>transform 属性用于旋转，缩放，倾斜或平移给定元素</strong></p>

<ol>
<li><p>translate:用于给定元素位移(属性值可以是百分数或者长度)</p>

<ol>
<li>translateX() 在 X 方向的位移</li>
<li>translateY() 在 Y 方向的位移</li>
<li>translate( , ) 在(X,Y)上的位移</li>

<li><p>translateZ() 距离视点的位移</p>

<p><strong>在使用 translateZ 时，需要对父元素加 perspective</strong></p>

<pre><code class="language-HTML">&lt;div id=&quot;father&quot;&gt;
    &lt;div id=&quot;demo&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>

<pre><code class="language-CSS">#father{
    perspective:1000px;
}
#demo{
    transform:translateZ(-500px);
}
</code></pre></li>

<li><p>translate3d(x,y,z)</p></li>
</ol>

<p><strong>经验:利用 translate 可以使绝对定位元素居中</strong></p>

<pre><code class="language-CSS">.item{
    position:absolute;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%);
}
</code></pre></li>

<li><p>scale:用于对给定元素进行缩放(属性值为数字)</p>

<ol>
<li>scaleX() 在 X 方向缩放</li>
<li>scaleY() 在 Y 方向缩放</li>
<li>scale( , ) 在(X,Y)方向缩放</li>
</ol></li>

<li><p>rotate:用于对给定元素进行旋转(属性值为角度)</p>

<ol>
<li>rotateZ() 绕 Z 轴旋转，也是最多用的</li>
<li>rotateX() 绕 X 轴旋转</li>
<li>rotateY() 绕 Y 轴旋转</li>
<li>rotate3d( , , )</li>
</ol>

<p><strong>经验:一般情况下用于旋转 360deg 来做 loading</strong></p></li>

<li><p>skew:用于倾斜给定元素(属性值为角度)</p>

<ol>
<li>skewX() X 方向倾斜</li>
<li>skewY() Y 方向倾斜</li>
<li>skew( , ) (X,Y)方向倾斜</li>
</ol></li>
</ol>

<h1 id="transition-属性的简单介绍">transition 属性的简单介绍</h1>

<ul>
<li><p><strong>transition 属性用于补充中间帧</strong></p></li>

<li><p>语法:</p>

<pre><code class="language-CSS">transition:属性名 时长 过度方式 延迟
</code></pre></li>

<li><p>语法内参数:</p>

<ol>
<li>属性名:使某个 CSS 属性的变化变为动画 可以填入 all 代表所有属性</li>
<li>时长:动画时间 可填秒或毫秒</li>
<li>过度方式:主要有 linear/ease/ease-in/ease-out 等，<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/timing-function">具体需要参考数学知识</a></li>
<li>延迟:动画延迟多长时间后开始</li>
</ol></li>

<li><p>注:</p>

<ol>
<li>并不是所有的元素都可以过度</li>
<li>display:none ==&gt; block 无法过度，改为 visibility:hidden ==&gt; visible(元素会保留位置)</li>
<li>background 可以过度</li>
<li>opacity 可以过度，但是元素还会保留位置</li>
</ol></li>
</ul>

<h1 id="animation-属性的简单介绍">animation 属性的简单介绍</h1>

<ul>
<li><p><strong>animation 用于动画</strong></p></li>

<li><p>语法:</p>

<pre><code class="language-CSS">animation:时长 过度方式 延迟 次数 方向 填充模式 是否暂停 动画名
</code></pre></li>

<li><p>语法内参数:</p>

<ol>
<li>时长:动画时间 可填秒或毫秒</li>
<li>过度方式:与 transition 一致</li>
<li>延迟:动画延迟多长时间后开始</li>
<li>次数:填入数字 也可以填入 infinite</li>
<li>方向:reverse(反向)/alternate(交替)/alternate-reverse</li>
<li>填充方式:none/forward/backwards/both</li>
<li>动画名</li>
</ol>

<p><strong>以上均有对应的属性</strong></p></li>

<li><p>如何写 animation 的动画</p>

<ul>
<li><p>用@keyframes 方法</p>

<p><strong>keyframe 中有两种写法</strong></p>

<ol>
<li><p>百分数写法</p>

<pre><code class="language-CSS">@keyframes (动画名){
    0%{
        (动画样式);
    }
    (任意百分数){
        (动画样式);
     }
    100%{
        (动画样式);
    }
}
</code></pre></li>

<li><p>from to 写法:</p>

<pre><code class="language-CSS">@keyframes (动画名){
    from{
        (动画样式);
    }
    to{
        (动画样式);
    }
}
</code></pre></li>
</ol></li>
</ul></li>
</ul>

<h1 id="两种动画的写法">两种动画的写法</h1>

<ol>
<li><p>transform 动画:</p>

<ul>
<li><p>思路:</p>

<ol>
<li>(a 状态) ===transform===&gt; (b 状态)</li>
<li>(b 状态) ===transform===&gt; (c 状态)</li>
</ol></li>

<li><p>Q:如何知道状态的改变？</p></li>

<li><p>A:通过 setTimeOut 或者监听 transitionend 事件</p></li>

<li><p><a href="http://js.jirengu.com/nadaq/1/edit?html,css,js,output">一个小例子</a></p></li>
</ul></li>

<li><p>animation 动画</p></li>
</ol>

<h1 id="以上属性的综合运用">以上属性的综合运用</h1>

<p><a href="http://js.jirengu.com/waneroguqe/1/edit?html,css">CSS 桃心动画</a></p>
<ul class="pa0">
  
</ul>
<div class="mt6">
      
      
      </div>
    </section>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://gy-coder.xyz/" >
    &copy; 2019 Gy的个人网站
  </a>
    <div>










</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
